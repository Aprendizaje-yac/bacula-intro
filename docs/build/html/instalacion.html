

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="es" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Instalando Bacula en la PSI &mdash; documentación de Backups en la PSI - 0.0.1</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="Saber a que archivos se le están haciendo backups" href="revision.html" />
    <link rel="prev" title="Introducción a Bacula" href="introduccion.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Backups en la PSI
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contenido:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="objetivos.html">Objetivo y problemática del proyecto</a></li>
<<<<<<< HEAD
<li class="toctree-l1"><a class="reference internal" href="estudio_tecnico.html">Estudio técnico</a></li>
<li class="toctree-l1"><a class="reference internal" href="metodologia.html">Metodología</a></li>
=======
>>>>>>> b7a354d588b9566527bbd0ad69c614e44987c836
<li class="toctree-l1"><a class="reference internal" href="introduccion.html">Introducción a Bacula</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Instalando Bacula en la PSI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuracion-inicial-de-bacula">Configuración inicial de Bacula</a></li>
<li class="toctree-l2"><a class="reference internal" href="#como-inicializar-el-servidor">Como inicializar el servidor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="revision.html">Saber a que archivos se le están haciendo backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="basededatos.html">Agregar backup de base de datos a Bacula</a></li>
<li class="toctree-l1"><a class="reference internal" href="recuperar.html">Como restaurar backups en bacula</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Backups en la PSI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Instalando Bacula en la PSI</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/instalacion.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="instalando-bacula-en-la-psi">
<h1>Instalando Bacula en la PSI<a class="headerlink" href="#instalando-bacula-en-la-psi" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="configuracion-inicial-de-bacula">
<h2>Configuración inicial de Bacula<a class="headerlink" href="#configuracion-inicial-de-bacula" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En un docker con las librerías basadas en Debian, se realizaron los siguientes pasos:</p>
<ul class="simple">
<li><p>Instalación de Apache, MySQL y PHP. Es necesario el servidor de aplicaciones web para correr Webmin en el servidor y así tener una herramienta gráfica muy potente para administrar no solo Bacula sino también todo el sistema y servicios que tengamos en el servidor, además necesitaremos el SGBD MySQL para que Bacula lo use en sus bases de datos.</p></li>
<li><dl class="simple">
<dt>Instalación de los paquetes necesarios de cliente y servidor Bacula.</dt><dd><ul>
<li><p>bacula bacula-client bacula-common-mysql</p></li>
<li><p>bacula-director-mysql bacula-sd-mysql bacula-server bacula-traymonitor</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Configuración de la base de datos que usará bacula-director</p></li>
<li><p>Instalación de Webmin</p></li>
</ul>
<p>Para instalar Webmin tenemos que descargarlo desde su web oficial <a class="reference external" href="http://www.webmin.com/download.html">http://www.webmin.com/download.html</a> y descargar la versión para Debian. Una vez finalizada la descarga entramos al directorio donde se ha descargado e instalamos el paquete:
dpkg -i nombre_paquete.deb.
Es posible que aparezcan errores por la falta de dependencias, si este es el caso se deben instalar los paquetes faltantes.
Una vez finalizada la instalación ya se tiene acceso desde la dirección <a class="reference external" href="https://localhost:10000">https://localhost:10000</a> con el usuario root y la contraseña (pass) que tenga este en el sistema.</p>
</div>
<div class="section" id="como-inicializar-el-servidor">
<h2>Como inicializar el servidor<a class="headerlink" href="#como-inicializar-el-servidor" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Para poder iniciar el stack del servidor es necesario ubicarse dentro de la carpeta donde se encuentre la definición del servicio.</p>
<blockquote>
<div><div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></div></td><td class="code"><div class="highlight"><pre><span></span>  <span class="nt">version</span><span class="p">:</span> <span class="s">&#39;2&#39;</span>
  <span class="nt">services</span><span class="p">:</span>
    <span class="nt">bacula-db-test</span><span class="p">:</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">hub.psi.unc.edu.ar/dev/bacula-db:latest</span>
      <span class="nt">environment</span><span class="p">:</span>
        <span class="nt">MYSQL_ROOT_PASSWORD</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">root</span>
        <span class="nt">MYSQL_DATABASE</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bacula</span>
        <span class="nt">MYSQL_USER</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bacula</span>
        <span class="nt">MYSQL_PASSWORD</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bacula</span>
      <span class="nt">stdin_open</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">tty</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">ports</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">3306:3306</span>
      <span class="nt">volumes</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/docker-persist/mysql:/var/lib/mysql</span>
      <span class="nt">links</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bacula-test:director</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">io.rancher.container.pull_image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">always</span>
    <span class="nt">bacula-test</span><span class="p">:</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">hub.psi.unc.edu.ar/dev/bacula-director:0.0.4</span>
      <span class="nt">stdin_open</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">tty</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">links</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bacula-db-test:database</span>
      <span class="nt">ports</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">10002:10000/tcp</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">9101:9101</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">9102:9102</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">9103:9103</span>
      <span class="nt">volumes</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/docker-persist/config:/etc/webmin/bacula-backup/config</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/docker-persist/director/etc-bacula:/etc/bacula</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/backup-1:/mnt/backup-1</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/docker-persist/director/var-bacula/lib:/var/lib/bacula</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/docker-persist/director/var-bacula/run:/var/run/bacula</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/srv/docker-persist/director/run-bacula:/run/bacula</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/etc/hosts:/etc/hosts</span>
  <span class="c1">#   - /etc/resolv.conf:/etc/resolv.conf</span>
  <span class="c1">#    command: /bin/bash up-services.sh</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">io.rancher.container.pull_image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">always</span>
</pre></div>
</td></tr></table></div>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="revision.html" class="btn btn-neutral float-right" title="Saber a que archivos se le están haciendo backups" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="introduccion.html" class="btn btn-neutral float-left" title="Introducción a Bacula" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Spitale Solange, Vazquez Petrini Santiago

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>